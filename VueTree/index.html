<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础 | C.AI 的文档库</title>
    <meta name="description" content="前端工程师 C.AI 的文档库">
    <link rel="icon" href="/cyz.github.io/img/logo.ico">
    
    <link rel="preload" href="/cyz.github.io/assets/css/0.styles.6047b1dc.css" as="style"><link rel="preload" href="/cyz.github.io/assets/js/app.52c0ec58.js" as="script"><link rel="preload" href="/cyz.github.io/assets/js/24.48342641.js" as="script"><link rel="prefetch" href="/cyz.github.io/assets/js/10.7c97cef3.js"><link rel="prefetch" href="/cyz.github.io/assets/js/11.9669335e.js"><link rel="prefetch" href="/cyz.github.io/assets/js/12.e747653b.js"><link rel="prefetch" href="/cyz.github.io/assets/js/13.6636f05a.js"><link rel="prefetch" href="/cyz.github.io/assets/js/14.61125e13.js"><link rel="prefetch" href="/cyz.github.io/assets/js/15.a8e47a6b.js"><link rel="prefetch" href="/cyz.github.io/assets/js/16.baf32657.js"><link rel="prefetch" href="/cyz.github.io/assets/js/17.8b488cce.js"><link rel="prefetch" href="/cyz.github.io/assets/js/18.e15548f2.js"><link rel="prefetch" href="/cyz.github.io/assets/js/19.00f7342f.js"><link rel="prefetch" href="/cyz.github.io/assets/js/2.c2d3c73c.js"><link rel="prefetch" href="/cyz.github.io/assets/js/20.bfaa1bc2.js"><link rel="prefetch" href="/cyz.github.io/assets/js/21.68dd5475.js"><link rel="prefetch" href="/cyz.github.io/assets/js/22.6e1d5ec5.js"><link rel="prefetch" href="/cyz.github.io/assets/js/23.8ed52af7.js"><link rel="prefetch" href="/cyz.github.io/assets/js/25.4c44f0f0.js"><link rel="prefetch" href="/cyz.github.io/assets/js/26.7e3c090a.js"><link rel="prefetch" href="/cyz.github.io/assets/js/27.bb5f13de.js"><link rel="prefetch" href="/cyz.github.io/assets/js/28.db09b098.js"><link rel="prefetch" href="/cyz.github.io/assets/js/29.9c71e27d.js"><link rel="prefetch" href="/cyz.github.io/assets/js/3.4c9e2652.js"><link rel="prefetch" href="/cyz.github.io/assets/js/30.15beab92.js"><link rel="prefetch" href="/cyz.github.io/assets/js/31.6431a466.js"><link rel="prefetch" href="/cyz.github.io/assets/js/32.42060dc5.js"><link rel="prefetch" href="/cyz.github.io/assets/js/33.0fafaed8.js"><link rel="prefetch" href="/cyz.github.io/assets/js/34.396d9254.js"><link rel="prefetch" href="/cyz.github.io/assets/js/35.85e1ec69.js"><link rel="prefetch" href="/cyz.github.io/assets/js/36.72bf8542.js"><link rel="prefetch" href="/cyz.github.io/assets/js/37.651ed607.js"><link rel="prefetch" href="/cyz.github.io/assets/js/38.8ca4e1f0.js"><link rel="prefetch" href="/cyz.github.io/assets/js/39.7e9111b3.js"><link rel="prefetch" href="/cyz.github.io/assets/js/4.67f1c1df.js"><link rel="prefetch" href="/cyz.github.io/assets/js/40.ca2043c2.js"><link rel="prefetch" href="/cyz.github.io/assets/js/5.59fa5bd6.js"><link rel="prefetch" href="/cyz.github.io/assets/js/6.ff4596fc.js"><link rel="prefetch" href="/cyz.github.io/assets/js/7.1762d3ba.js"><link rel="prefetch" href="/cyz.github.io/assets/js/8.32d2f238.js"><link rel="prefetch" href="/cyz.github.io/assets/js/9.a9a327d6.js">
    <link rel="stylesheet" href="/cyz.github.io/assets/css/0.styles.6047b1dc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cyz.github.io/" class="home-link router-link-active"><!----> <span class="site-name">C.AI 的文档库</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cyz.github.io/" class="nav-link">主页</a></div><div class="nav-item"><a href="/cyz.github.io/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/canvas/" class="nav-link">Canvas</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/JS/" class="nav-link">Javascript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Web/" class="nav-link">重学前端</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/TypeScript/" class="nav-link">TypeScript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/NODE/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/CSS/" class="nav-link">常用布局</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Vue相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/VUE/" class="nav-link">基础命令</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/VueTree/" class="nav-link router-link-exact-active router-link-active">技术栈</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">移动端相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Phone/" class="nav-link">移动端适配</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Applet/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/webUrl.html" class="nav-link">前端常用url</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Fishcyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cyz.github.io/" class="nav-link">主页</a></div><div class="nav-item"><a href="/cyz.github.io/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/canvas/" class="nav-link">Canvas</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/JS/" class="nav-link">Javascript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Web/" class="nav-link">重学前端</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/TypeScript/" class="nav-link">TypeScript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/NODE/" class="nav-link">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/CSS/" class="nav-link">常用布局</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Vue相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/VUE/" class="nav-link">基础命令</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/VueTree/" class="nav-link router-link-exact-active router-link-active">技术栈</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">移动端相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Phone/" class="nav-link">移动端适配</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Applet/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/webUrl.html" class="nav-link">前端常用url</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Fishcyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/cyz.github.io/VueTree/" class="active sidebar-link">路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#router-link和router-view组件" class="sidebar-link">router-link和router-view组件</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#路由对象" class="sidebar-link">路由对象</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#路由配置" class="sidebar-link">路由配置</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#重定向和别名" class="sidebar-link">重定向和别名</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#js操作路由-编程式导航" class="sidebar-link">JS操作路由(编程式导航)</a></li></ul></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#进阶" class="sidebar-link">进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#路由组件传参" class="sidebar-link">路由组件传参</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#html5-history模式" class="sidebar-link">HTML5 History模式</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#导航守卫" class="sidebar-link">导航守卫</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#路由元信息" class="sidebar-link">路由元信息</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/VueTree/#过渡效果" class="sidebar-link">过渡效果</a></li></ul></li></ul></li><li><a href="/cyz.github.io/VueTree/Vuex.html" class="sidebar-link">状态管理</a></li><li><a href="/cyz.github.io/VueTree/Ajax.html" class="sidebar-link">Ajax请求</a></li><li><a href="/cyz.github.io/VueTree/Mock.doc.html" class="sidebar-link">Mock文档</a></li><li><a href="/cyz.github.io/VueTree/JS.Library.html" class="sidebar-link">第三方JS库的使用</a></li><li><a href="/cyz.github.io/VueTree/DOM.html" class="sidebar-link">Vue中如何操作DOM</a></li><li><a href="/cyz.github.io/VueTree/RenderJSX.html" class="sidebar-link">渲染函数和JSX</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="基础"><a href="#基础" aria-hidden="true" class="header-anchor">#</a> 基础</h2> <h3 id="router-link和router-view组件"><a href="#router-link和router-view组件" aria-hidden="true" class="header-anchor">#</a> router-link和router-view组件</h3> <h4 id="router-link"><a href="#router-link" aria-hidden="true" class="header-anchor">#</a> router-link</h4> <p>封装了一个a标签，用于页面跳转</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;router-link to='/'&gt;首页&lt;/router-link&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>to：跳转的页面地址</p> <h4 id="router-view"><a href="#router-view" aria-hidden="true" class="header-anchor">#</a> router-view</h4> <p>视图渲染组件，通过router-link加载的页面在该组件内渲染</p> <h3 id="路由对象"><a href="#路由对象" aria-hidden="true" class="header-anchor">#</a> 路由对象</h3> <ul><li>path：路径[基础]</li> <li>component：对应渲染的组件[基础]</li> <li>懒加载：按需加载<div class="language- line-numbers-mode"><pre class="language-text"><code>component: () =&gt; import('@/加载组件地址')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="路由配置"><a href="#路由配置" aria-hidden="true" class="header-anchor">#</a> 路由配置</h3> <ul><li>动态路由<div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/argu/:name',
    component: () =&gt; import('@/加载组件地址')
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>页面内获取动态参数：<code>$route.params.name</code>
js中获取动态参数：<code>this.$route.params.name</code> <ul><li>$route：当前加载页面的路由值对象</li> <li>params：参数对象</li> <li>name：参数</li></ul></li> <li>嵌套路由<div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/parent',
    component: () =&gt; import('@/加载组件地址'),
    children: [
        {
            path: 'child',
            component: () =&gt; import('@/加载组件地址')
        }
    ]
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>parent 页面需要有 <code>&lt;router-view /&gt;</code></p></blockquote></li> <li>命名路由</li></ul> <p>路由对象需要添加name属性</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;router-link :to=&quot; {name:'name属性值'} &quot;&gt;&lt;/router-link&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>命名视图
<ul><li>页面调用</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;router-view name=&quot;email&quot;/&gt;
&lt;router-view name=&quot;tel&quot;/&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>配置</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/named_view',
    components: {
        default: () =&gt; import('@/加载组件地址'),
        email: () =&gt; import('@/加载组件地址'),
        tel: () =&gt; import('@/加载组件地址')
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>default：命名视图未指定name时，默认使用default组件</li></ul> <h3 id="重定向和别名"><a href="#重定向和别名" aria-hidden="true" class="header-anchor">#</a> 重定向和别名</h3> <h4 id="重定向"><a href="#重定向" aria-hidden="true" class="header-anchor">#</a> 重定向</h4> <ul><li>方法一：基础<div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/main',
    redirect: '/'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li>方法二：命名路由<div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/main',
    redirect: {
        name: 'home'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li>方法三：使用方法函数<div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/main',
    redirect: to =&gt; {
        // 1、返回路由名
        return {
            name: 'home'
        }
        // 2、直接返回路径
        return '/'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>函数如果直接return值，ES6中可简写：<code>redirect: to =&gt; '/'</code></li></ul> <h4 id="别名"><a href="#别名" aria-hidden="true" class="header-anchor">#</a> 别名</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/',
    alias: '/home_page',
    name: 'home',
    component: Home
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="js操作路由-编程式导航"><a href="#js操作路由-编程式导航" aria-hidden="true" class="header-anchor">#</a> JS操作路由(编程式导航)</h3> <h4 id="返回上一页"><a href="#返回上一页" aria-hidden="true" class="header-anchor">#</a> 返回上一页</h4> <ul><li>方法一：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.go(-1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>方法二：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.back()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h4 id="前进一页"><a href="#前进一页" aria-hidden="true" class="header-anchor">#</a> 前进一页</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.go(1)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="跳转到某一页"><a href="#跳转到某一页" aria-hidden="true" class="header-anchor">#</a> 跳转到某一页</h4> <ul><li>方法一：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.push('/')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>方法二：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.push({
    name: 'home',
    // params参数:/home/Ella
    params: {
        name: 'Ella'
    }
    // query参数:/home?name='Ella'
    qurey: {
        name: 'Ella'
    }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li>方法三：模板语言<div class="language- line-numbers-mode"><pre class="language-text"><code>const name = 'Ella'
this.$router.push({
    path: `/argu/${name}`
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <blockquote><p>push：会在浏览历史中加入一条记录，回退时能回退到跳转之前的地方</p></blockquote> <blockquote><p>使用path不能使用params，是无效的</p></blockquote> <h4 id="替换到某一页"><a href="#替换到某一页" aria-hidden="true" class="header-anchor">#</a> 替换到某一页</h4> <ul><li>方法一：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.replace('/')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>方法二：<div class="language- line-numbers-mode"><pre class="language-text"><code>this.$router.replace({
    name: 'home'
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <blockquote><p>replace：把当前的浏览历史替换成home页，回退操作会回退到home</p></blockquote> <h2 id="进阶"><a href="#进阶" aria-hidden="true" class="header-anchor">#</a> 进阶</h2> <h3 id="路由组件传参"><a href="#路由组件传参" aria-hidden="true" class="header-anchor">#</a> 路由组件传参</h3> <p>根据路由获得参数，使用$router实例获取相关参数，会使得页面组件跟路由进行过高的耦合。为了解耦，组件得到更高的复用，可以使用路由组件传参。</p> <h4 id="三种形式"><a href="#三种形式" aria-hidden="true" class="header-anchor">#</a> 三种形式</h4> <ul><li>布尔模式：适用于在动态路由匹配中，有动态路由参数的路由配置中
<ul><li>路由配置文件</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>组件页面属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: {
    name: {
        // type: [String, Number]
        type: String,
        // 默认值
        default: 'Ella'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li>对象模式
<ul><li>路由配置文件</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: {
  food: 'banana'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>组件页面属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: {
    food: {
        type: String,
        default: 'apple' // 对象food未传值时显示
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li>函数模式：在传入的属性中，根据当前的路由做一些处理逻辑
<ul><li>路由配置文件</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: route =&gt; ({
  food: route.query.food
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>组件页面属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>props: {
    food: {
        type: String,
        default: 'apple'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h3 id="html5-history模式"><a href="#html5-history模式" aria-hidden="true" class="header-anchor">#</a> HTML5 History模式</h3> <ul><li>默认模式：hash
<ul><li>在url地址#后做路由变化，页面不会刷新，地址中会有#号</li></ul></li> <li>history模式：history
<ul><li>使用H5的一些api来做无刷新页面的页面操作</li> <li>所有匹配不到页面静态资源的url都会指向index.html</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
    // 匹配任何路径，定义在最末尾，优先级低
    path: '*',
    component: () =&gt; import('@/views/Error_404.vue')
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul> <h3 id="导航守卫"><a href="#导航守卫" aria-hidden="true" class="header-anchor">#</a> 导航守卫</h3> <p>路由发生跳转到导航结束时间内进行相应的逻辑处理，如：判断用户是否登录、权限控制</p> <h4 id="全局守卫-index-js中创建全局守卫"><a href="#全局守卫-index-js中创建全局守卫" aria-hidden="true" class="header-anchor">#</a> 全局守卫 index.js中创建全局守卫</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 路由守卫-全局守卫
const router = new Router({
routes
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>全局前置守卫</li></ul> <p>to 即将跳转页面的路由对象</p> <p>from 当前将要离开的页面的路由对象</p> <p>next 函数</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 登录状态，一般为后台获取
const HAS_LOGINED = true

router.beforeEach((to, from, next) =&gt; {
    // 如果跳转的页面不是登录页
    if (to.name !== 'login') {
        // 如果已经登录，直接跳转
        if (HAS_LOGINED) next()
        else next({ name: 'login' })
    } else {
        if (HAS_LOGINED) next({ name: 'home' })
        else next()
    }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>后置钩子</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>router.afterEach( (to, from) =&gt; {
    &lt;!-- 路由加载状态 --&gt;
    // loading = false
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>全局守卫</li></ul> <p>在导航被确认之前，所有组件内守卫和异步路由组件被解析之后，被调用</p> <p>被确认的状态：所有导航钩子都结束</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>router.beforeResolve((to, from, next) =&gt; {
    //
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="路由独享守卫-某页面独享router-js"><a href="#路由独享守卫-某页面独享router-js" aria-hidden="true" class="header-anchor">#</a> 路由独享守卫 某页面独享router.js</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/',
    name: 'home',
    component: Home,
    beforeEnter: (to, from, next) =&gt; {
      // 一定要调用next()，不然不会跳转
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="组件内守卫"><a href="#组件内守卫" aria-hidden="true" class="header-anchor">#</a> 组件内守卫</h4> <ul><li>路由即将进入</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>beforeRouteEnter (to, from, next) {
    // 页面还未渲染，无法获取this
    // 使用回调函数获取组件实例
    next(vm =&gt; {
        // vm为组件实例
    })
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>路由即将离开</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>beforeRouteLeave (to, from, next) {
    // 当被调用时，页面已经被渲染了，可以使用this
    // 提醒用户是否真的要离开
    const leave = confirm('您真的要离开吗？')
    if (leave) next()
    else next(false)
    // next(false) 则页面不会跳转
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>路由url发生变化，组件被复用时调用</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>beforeRouterUpdate (to, from, next) {
    // 当被调用时，页面已经被渲染了，可以使用this
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="完整的导航解析流程"><a href="#完整的导航解析流程" aria-hidden="true" class="header-anchor">#</a> 完整的导航解析流程</h4> <ol><li>导航被触发</li> <li>在失活的组件（即将离开的页面组件）里调用离开守卫 beforeRouterLeave</li> <li>调用全局的前置守卫 beforeEach</li> <li>在重用的组件里调用 beforeRouteUpdate</li> <li>调用路由独享的守卫 beforeEnter</li> <li>解析异步路由组件</li> <li>在被激活的组件（即将进入页面的组件）里调用 beforeRouteEnter</li> <li>调用全局解析守卫 beforeResolve</li> <li>导航被确认</li> <li>调用全局的后置守卫 afterEach</li> <li>触发DOM更新</li> <li>用创建好的实例调用 beforeRouterEnter 守卫里传给 next 的回调函数</li></ol> <h3 id="路由元信息"><a href="#路由元信息" aria-hidden="true" class="header-anchor">#</a> 路由元信息</h3> <ul><li>配置文件</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
    path: '/about',
    name: 'about',
    component: () =&gt; import('@/views/About.vue'),
    // 路由元信息
    meta: {
      title: '关于'
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>调用</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>router.beforeEach((to, from, next) =&gt; {
  // 如果to.meta是真，则会执行setTitle(to.meta.title)
  to.meta &amp;&amp; setTitle(to.meta.title)
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="过渡效果"><a href="#过渡效果" aria-hidden="true" class="header-anchor">#</a> 过渡效果</h3> <ul><li>单个组件过渡 <code>&lt;transition&gt;&lt;/transition&gt;</code></li> <li>多个组件过渡 <code>&lt;transition-group&gt;&lt;/transition-group&gt;</code></li></ul> <h4 id="步骤"><a href="#步骤" aria-hidden="true" class="header-anchor">#</a> 步骤</h4> <ol><li>为每个组件设置key值</li> <li>为<code>transition-group</code>设置name值</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- 过渡效果 --&gt;
&lt;transition-group :name=&quot;routerTransition&quot;&gt;
    &lt;router-view key=&quot;default&quot;/&gt;
    &lt;!-- 命名视图 --&gt;
    &lt;router-view key=&quot;email&quot; name=&quot;email&quot;&gt;&lt;/router-view&gt;
    &lt;router-view key=&quot;tel&quot; name=&quot;tel&quot;&gt;&lt;/router-view&gt;
&lt;/transition-group&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- 动态设置name值 --&gt;
data () {
    return {
        routerTransition: ''
    }
},
watch : {
    '$router' (to) {
        to.query &amp;&amp; to.query.transitionName &amp;&amp; (this.routerTransition = to.query.transitionName)
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="3"><li>使用css修改动画效果[类名]</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 页面进入
// 页面即将加载的状态
.router-enter{
    opacity: 0;
}
// 页面从没有到有的过程的动态效果
.router-enter-active{
    transition: opacity 1s ease;
}
// 页面完全显示之后的状态
.router-enter-to{
    opacity: 1;
}
// 页面注销
// 页面即将跳转的状态
.router-leave{
    opacity: 1;
}
// 页面从有到没有的过程的动态效果
.router-leave-active{
    transition: opacity 1s ease;
}
// 页面完全跳转之后的状态
.router-leave-to{
    opacity: 0;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">4/3/2019, 5:23:13 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/cyz.github.io/VueTree/Vuex.html">
          状态管理
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/cyz.github.io/assets/js/app.52c0ec58.js" defer></script><script src="/cyz.github.io/assets/js/24.48342641.js" defer></script>
  </body>
</html>
