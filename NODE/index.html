<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | C.AI 的文档库</title>
    <meta name="description" content="前端工程师 C.AI 的文档库">
    <link rel="icon" href="/cyz.github.io/img/logo.ico">
    
    <link rel="preload" href="/cyz.github.io/assets/css/0.styles.25a0871d.css" as="style"><link rel="preload" href="/cyz.github.io/assets/js/app.1e76dcae.js" as="script"><link rel="preload" href="/cyz.github.io/assets/js/16.4ffc2e3e.js" as="script"><link rel="prefetch" href="/cyz.github.io/assets/js/10.2158a87e.js"><link rel="prefetch" href="/cyz.github.io/assets/js/11.55079ee8.js"><link rel="prefetch" href="/cyz.github.io/assets/js/12.bc3a3fc9.js"><link rel="prefetch" href="/cyz.github.io/assets/js/13.d1fd97da.js"><link rel="prefetch" href="/cyz.github.io/assets/js/14.abb9f3b3.js"><link rel="prefetch" href="/cyz.github.io/assets/js/15.d241e4f9.js"><link rel="prefetch" href="/cyz.github.io/assets/js/17.763d1938.js"><link rel="prefetch" href="/cyz.github.io/assets/js/18.96561461.js"><link rel="prefetch" href="/cyz.github.io/assets/js/19.9ad33bd8.js"><link rel="prefetch" href="/cyz.github.io/assets/js/2.56943023.js"><link rel="prefetch" href="/cyz.github.io/assets/js/20.84ce4d26.js"><link rel="prefetch" href="/cyz.github.io/assets/js/21.d37e9488.js"><link rel="prefetch" href="/cyz.github.io/assets/js/22.aa1c27e4.js"><link rel="prefetch" href="/cyz.github.io/assets/js/23.8eb65696.js"><link rel="prefetch" href="/cyz.github.io/assets/js/24.0574cc6d.js"><link rel="prefetch" href="/cyz.github.io/assets/js/25.eac3bb1c.js"><link rel="prefetch" href="/cyz.github.io/assets/js/26.d6853d0e.js"><link rel="prefetch" href="/cyz.github.io/assets/js/27.095dc9b3.js"><link rel="prefetch" href="/cyz.github.io/assets/js/28.3a90f273.js"><link rel="prefetch" href="/cyz.github.io/assets/js/29.97f44d75.js"><link rel="prefetch" href="/cyz.github.io/assets/js/3.b595e9e8.js"><link rel="prefetch" href="/cyz.github.io/assets/js/30.d14871ed.js"><link rel="prefetch" href="/cyz.github.io/assets/js/31.180f9500.js"><link rel="prefetch" href="/cyz.github.io/assets/js/32.7b20d882.js"><link rel="prefetch" href="/cyz.github.io/assets/js/33.721a650f.js"><link rel="prefetch" href="/cyz.github.io/assets/js/34.2e161df9.js"><link rel="prefetch" href="/cyz.github.io/assets/js/35.d52ca233.js"><link rel="prefetch" href="/cyz.github.io/assets/js/36.f4b2005c.js"><link rel="prefetch" href="/cyz.github.io/assets/js/37.d1254678.js"><link rel="prefetch" href="/cyz.github.io/assets/js/38.b9524aad.js"><link rel="prefetch" href="/cyz.github.io/assets/js/39.11065ef8.js"><link rel="prefetch" href="/cyz.github.io/assets/js/4.8a2e2350.js"><link rel="prefetch" href="/cyz.github.io/assets/js/40.f8f47668.js"><link rel="prefetch" href="/cyz.github.io/assets/js/41.4d673535.js"><link rel="prefetch" href="/cyz.github.io/assets/js/42.89658768.js"><link rel="prefetch" href="/cyz.github.io/assets/js/43.114ac488.js"><link rel="prefetch" href="/cyz.github.io/assets/js/44.fe0027f3.js"><link rel="prefetch" href="/cyz.github.io/assets/js/5.6a36e877.js"><link rel="prefetch" href="/cyz.github.io/assets/js/6.d82ca9b7.js"><link rel="prefetch" href="/cyz.github.io/assets/js/7.d11e1e54.js"><link rel="prefetch" href="/cyz.github.io/assets/js/8.1233bedc.js"><link rel="prefetch" href="/cyz.github.io/assets/js/9.ca79d353.js">
    <link rel="stylesheet" href="/cyz.github.io/assets/css/0.styles.25a0871d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cyz.github.io/" class="home-link router-link-active"><!----> <span class="site-name">C.AI 的文档库</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cyz.github.io/" class="nav-link">主页</a></div><div class="nav-item"><a href="/cyz.github.io/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/canvas/" class="nav-link">Canvas</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/JavaScript/" class="nav-link">Javascript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Web/" class="nav-link">重学前端</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Interview/" class="nav-link">前端100问</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/TypeScript/" class="nav-link">TypeScript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Node/" class="nav-link router-link-exact-active router-link-active">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/CSS/" class="nav-link">常用布局</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Vue相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Vue/" class="nav-link">基础命令</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/VueTree/" class="nav-link">技术栈</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/React/" class="nav-link">基础语法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">移动端相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Phone/" class="nav-link">移动端适配</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Applet/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/webUrl.html" class="nav-link">前端常用url</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/toolList.html" class="nav-link">前端工具类库</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Fishcyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cyz.github.io/" class="nav-link">主页</a></div><div class="nav-item"><a href="/cyz.github.io/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/canvas/" class="nav-link">Canvas</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/JavaScript/" class="nav-link">Javascript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Web/" class="nav-link">重学前端</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Interview/" class="nav-link">前端100问</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/TypeScript/" class="nav-link">TypeScript语法</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/Node/" class="nav-link router-link-exact-active router-link-active">Node</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">CSS相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/CSS/" class="nav-link">常用布局</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Vue相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Vue/" class="nav-link">基础命令</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/VueTree/" class="nav-link">技术栈</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/React/" class="nav-link">基础语法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">移动端相关</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Phone/" class="nav-link">移动端适配</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cyz.github.io/Applet/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/webUrl.html" class="nav-link">前端常用url</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/toolList.html" class="nav-link">前端工具类库</a></li><li class="dropdown-item"><!----> <a href="/cyz.github.io/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Fishcyz" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/cyz.github.io/Node/" class="active sidebar-link">Node基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#http" class="sidebar-link">HTTP</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#url" class="sidebar-link">url</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#url-模块" class="sidebar-link">url 模块</a></li></ul></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#commonjs" class="sidebar-link">CommonJS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#node-js-中的模块化？" class="sidebar-link">Node.js 中的模块化？</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#使用方式" class="sidebar-link">使用方式</a></li></ul></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#包与-npm" class="sidebar-link">包与 npm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#npm-基本知识" class="sidebar-link">npm 基本知识</a></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#npm-包管理" class="sidebar-link">npm 包管理</a></li></ul></li><li class="sidebar-sub-header"><a href="/cyz.github.io/Node/#fs-文件管理" class="sidebar-link">fs 文件管理</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h2 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> HTTP</h2> <ol><li>引入 http 模块(像 PHP 这类的后端语言，需要 Apache 或者 Nginx 开启 HTTP 服务。而 Node 不需要)</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>var http = require(&quot;http&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>用 http 模块创建服务并设置开启的端口</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>/**
 * req 获取 url 信息 (request)
 * res 浏览器返回响应信息 (response)
 */
http.createServer(function (req, res) {
  // ... 步骤 3 代码
}).listen(3000); // 监听的端口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ol start="3"><li>设置 HTTP 头部，并往页面打印值，最后结束响应</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 设置 HTTP 头部，状态码是 200，文件类型是 html，字符集是 utf8
res.writeHead(200, {
  &quot;Content-Type&quot;: &quot;text/html;charset=UTF-8&quot;
});

// 往页面打印值
res.write('&lt;h1 style=&quot;text-align:center&quot;&gt;Hello NodeJS&lt;/h1&gt;');

// 结束响应
res.end();
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="4"><li>使用 <code>node XX.js</code> 启动 Node 服务(往浏览器输入 http://localhost:3000/，将访问到我们开启的 Node 服务)</li></ol> <h2 id="url"><a href="#url" aria-hidden="true" class="header-anchor">#</a> url</h2> <ol><li>引入 url 模块</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>var url = require(&quot;url&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>引入 http 模块</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>var http = require(&quot;http&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>用 http 模块创建服务(url 的监听，需要 http 模块的开启)</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>/**
 * req 获取 url 信息 (request)
 * res 浏览器返回响应信息 (response)
 */
http.createServer(function (req, res) {
  // ... 第 4 步、第 5 步代码

  // 设置 HTTP 头部，状态码是 200，文件类型是 html，字符集是 utf8
  res.writeHead(200, {
    &quot;Content-Type&quot;: &quot;text/html;charset=UTF-8&quot;
  });

  // 往页面打印值
  res.write('&lt;h1 style=&quot;text-align:center&quot;&gt;Hello NodeJS&lt;/h1&gt;');

  // 结束响应
  res.end();
}).listen(3000);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ol start="4"><li>获取服务器请求</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>/**
  * 访问地址是：http://localhost:3000/?userName=cyz&amp;userAge=26
  * 如果你执行 console.log(req.url)，它将执行两次，分别返回下面的信息：
  * /  ?userName=cyz&amp;userAge=26
  * /  /favicon.ico
  * 这里为了防止重复执行，所以排除 req.url == /favicon.ico 的情况
  */
if(req.url != &quot;/favicon.ico&quot;) {
  // 第 5 步代码
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="5"><li>使用 url 的 parse 方法</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>  /**
    * parse 方法需要两个参数：
    * 第一个参数是地址
    * 第二个参数是 true 的话表示把 get 传值转换成对象
    */
  var result = url.parse(req.url, true);
  console.log(result);
  /**
    * Url {
    *   protocol: null,
    *   slashes: null,
    *   auth: null,
    *   host: null,
    *   port: null,
    *   hostname: null,
    *   hash: null,
    *   search: '?userName=cyz&amp;userAge=26',
    *   query: { userName: 'cyz', userAge: '26' },
    *   pathname: '/',
    *   path: '/?userName=cyz&amp;userAge=26',
    *   href: '/?userName=cyz&amp;userAge=26' }
    */

  console.log(result.query.userName); // cyz

  console.log(result.query.userAge); // 26
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>可以通过 query，获取到我们想要的路径字段</p> <h3 id="url-模块"><a href="#url-模块" aria-hidden="true" class="header-anchor">#</a> url 模块</h3> <ul><li>url 模块所有内容：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>console.log(url);

/**
* Console：
{ 
  Url: [Function: Url],
    parse: [Function: urlParse], // 获取地址信息
    resolve: [Function: urlResolve], // 追加或者替换地址
    resolveObject: [Function: urlResolveObject],
    format: [Function: urlFormat], // 逆向 parse，根据地址信息获取原 url 信息
    URL: [Function: URL],
    URLSearchParams: [Function: URLSearchParams],
    domainToASCII: [Function: domainToASCII],
    domainToUnicode: [Function: domainToUnicode] 
  }
*/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>parse 如何使用</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>console.log(url.parse(&quot;http://www.baidu.com&quot;));
/**
 * Console：
  Url {
    protocol: 'http:',
    slashes: true,
    auth: null,
    host: 'www.baidu.com',
    port: null,
    hostname: 'www.baidu.com',
    hash: null,
    search: null,
    query: null,
    pathname: '/',
    path: '/',
    href: 'http://www.baidu.com/' 
  }
 */
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>parse 带参数：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>console.log(url.parse(&quot;http://www.baidu.com/new?name=cyz&quot;));

/**
 * Console：
  Url {
    protocol: 'http:',
    slashes: true,
    auth: null,
    host: 'www.baidu.com',
    port: null,
    hostname: 'www.baidu.com',
    hash: null,
    search: '?name=cyz',
    query: 'name=cyz',
    pathname: '/new',
    path: '/new?name=cyz',
    href: 'http://www.baidu.com/new?name=cyz' 
  }
 */
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>format 的使用：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>console.log(url.format({
  protocol: 'http:',
  slashes: true,
  auth: null,
  host: 'www.baidu.com',
  port: null,
  hostname: 'www.baidu.com',
  hash: null,
  search: '?name=cyz',
  query: 'name=cyz',
  pathname: '/new',
  path: '/new?name=cyz',
  href: 'http://www.baidu.com/new?name=cyz' 
}))

// Console：
// http://www.baidu.com/new?name=cyz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>resolve 的使用：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>console.log(url.resolve(&quot;http://www.baidu.com/cyz&quot;, &quot;cyz&quot;));

// Console：
// http://www.baidu.com/cyz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="commonjs"><a href="#commonjs" aria-hidden="true" class="header-anchor">#</a> CommonJS</h2> <p>CommonJS 就是模块化的标准，Node.js 就是 CommonJS（模块化）的实现。</p> <h3 id="node-js-中的模块化？"><a href="#node-js-中的模块化？" aria-hidden="true" class="header-anchor">#</a> Node.js 中的模块化？</h3> <p>在 Node 中，模块分为两类：一是 Node 提供的模块，称为核心模块；二是用户编写的模块，成为文件模块。核心模块在 Node 源代码的编译过程中，编译进了二进制执行文件，所以它的加载速度是最快的，例如：HTTP 模块、URL 模块、FS 模块；文件模块是在运行时动态加载的，需要完整的路劲分析、文件定位、编译执行过程等……所以它的速度相对核心模块来说会更慢一些。
我们可以将公共的功能抽离出一个单独的 JS 文件存放，然后在需要的情况下，通过 exports 或者 module.exports 将模块导出，并通过 require 引入这些模块。</p> <h3 id="使用方式"><a href="#使用方式" aria-hidden="true" class="header-anchor">#</a> 使用方式</h3> <p>通过三种使用方式，来讲解下 Node 中的<strong>模块化</strong>及 exports/require 的使用。</p> <ol><li>方法一</li></ol> <p>首先，我们新建 <code>CommonJS.js</code>、<code>tool-add.js</code>、<code>node_modules/tool-multiply.js</code>、<code>node_modules/cyz-module/tools.js</code> 这 4 个文件/文件夹。</p> <p>在 <code>tool-add.js</code> 中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 1. 假设我们文件其中有个工具模块
var tools = {
  add: (...numbers) =&gt; {
    let sum = 0;
    for (let number in numbers) {
      sum += numbers[number];
    }
    return sum;
  }
}

/**
 * 2. 暴露模块
 * exports.str = str;
 * module.exports = str;
 * 区别：
 * module.exports 是真正的接口
 * exports 是一个辅助工具
 * 如果 module.exports 为空，那么所有的 exports 收集到的属性和方法，都赋值给了 module.exports
 * 如果 module.exports 具有任何属性和方法，则 exports 会被忽略
 */

// exports 使用方法
// var str = &quot;cyz is very good!&quot;;
// exports.str = str; // { str: 'cyz is very good!' }

// module.exports 使用方法
module.exports = tools;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>那么，上面的代码有啥含义呢？</p> <ul><li>我们定义了个工具库 tools。</li> <li>我们通过 modules.exports 将 tools 进行了导出。</li></ul> <p>所以，我们在 <code>CommonJS.js</code> 可以通过 <code>require</code> 导入使用：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var http = require(&quot;http&quot;);

var tools1 = require('./tool-add');

http.createServer(function (req, res) {

  res.writeHead(200, {
    &quot;Content-Type&quot;: &quot;text/html;charset=UTF-8&quot;
  });

  res.write('&lt;h1 style=&quot;text-align:center&quot;&gt;Hello NodeJS&lt;/h1&gt;');
  
  console.log(tools1.add(1, 2, 3));
  /**
   * Console：
   * 6
   * 6
   * 这里要记得 Node 运行过程中，它请求了两次，
   * http://localhost:3000/ 为一次，
   * http://localhost:3000/favicon.ico 为第二次
   */
  
  res.end();

}).listen(3000);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="2"><li>方法二</li></ol> <p>当我们模块文件过多的时候，应该需要有个存放这些模块的目录，Node 就很靠谱，它规范我们可以将这些文件都放在 <code>node_modules</code> 目录中（大家都放在这个目录上，就不会有其他乱七八糟的命名了）。</p> <p>在 <code>node_modules</code> 中新建一个 <code>tool-multiply.js</code> 文件，其内容如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var tools = {
  multiply: (...numbers) =&gt; {
    let sum = numbers[0];
    for (let number in numbers) {
      sum = sum * numbers[number];
    }
    return sum;
  }
}

module.exports = tools;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>在引用方面，我们只需要通过：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 如果 Node 在当前目录没找到 tool.js 文件，则会去 node_modules 里面去查找
var tools2 = require('tool-multiply');

console.log(tools2.multiply(1, 2, 3, 4));
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>就可以成功导入 tool-multiply.js 文件了。</p> <ol start="3"><li>方法三</li></ol> <p>如果全部单个文件丢在 <code>node_modules</code> 上，它会显得杂乱无章，所以我们应该定义个自己的模块：<code>cyz-module</code>，然后将我们的 <code>tools.js</code> 存放在该目录中：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var tools = {
  add: (...numbers) =&gt; {
    let sum = 0;
    for (let number in numbers) {
      sum += numbers[number];
    }
    return sum;
  },
  multiply: (...numbers) =&gt; {
    let sum = numbers[0];
    for (let number in numbers) {
      sum = sum * numbers[number];
    }
    return sum;
  }
}

module.exports = tools;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>这样，我们就定义好了自己的工具库。</p> <p>但是，如果我们通过 var tools3 = require('cyz-module'); 去导入，会发现它报 error 了，所以，我们应该在 cyz-module 目录下，通过下面命令行生成一个 package.json</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm init --yes
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 cyz-module 中就有了 package.json。</p> <p>而我们在 CommonJS.js 就可以引用它了：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var http = require(&quot;http&quot;);

var tools1 = require('./tool-add');

// 如果 Node 在当前目录没找到 tool.js 文件，则会去 node_modules 里面去查找
var tools2 = require('tool-multiply');

/**
 * 通过 package.json 来引用文件
 * 1. 通过在 cyz-module 中 npm init --yes 来生成 package.json 文件
 * 2. package.json 文件中告诉了程序入口文件为 ：&quot;main&quot;: &quot;tools.js&quot;,
 * 3. Node 通过 require 查找 cyz-module，发现它有个 package.json
 * 4. Node 执行 tools.js 文件
 */
var tools3 = require('cyz-module');

http.createServer(function (req, res) {

  res.writeHead(200, {
    &quot;Content-Type&quot;: &quot;text/html;charset=UTF-8&quot;
  });

  res.write('&lt;h1 style=&quot;text-align:center&quot;&gt;Hello NodeJS&lt;/h1&gt;');
  
  console.log(tools1.add(1, 2, 3));
  console.log(tools2.multiply(1, 2, 3, 4));
  console.log(tools3.add(4, 5, 6));
  /**
   * Console：
   * 6
   * 24
   * 15
   * 6
   * 24
   * 15
   * 这里要记得 Node 运行过程中，它请求了两次，
   * http://localhost:3000/ 为一次，
   * http://localhost:3000/favicon.ico 为第二次
   */
  
  res.end();

}).listen(3000);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="包与-npm"><a href="#包与-npm" aria-hidden="true" class="header-anchor">#</a> 包与 npm</h2> <p>Node 中除了它自己提供的核心模块之外，还可以自定义模块，以及使用 第三方模块。</p> <p>Node 中第三方模块由包组成，可以通过包来对一组具有相互依赖关系的模块进行统一管理。</p> <h3 id="npm-基本知识"><a href="#npm-基本知识" aria-hidden="true" class="header-anchor">#</a> npm 基本知识</h3> <ul><li>npm -v：查看 npm 版本。</li> <li>npm list：查看当前目录下都安装了哪些 npm 包。</li> <li>npm info 模块：查看该模块的版本及内容。</li> <li>npm i 模块@版本号：安装该模块的指定版本。</li> <li>i/install：安装。使用 install 或者它的简写 i，都表明你想要下载这个包。</li> <li>uninstall：卸载。如果你发现这个模块你已经不使用了，那么可以通过 uninstall 卸载它。</li> <li>-g：全局安装。表明这个包将安装到你的计算机中，你可以在计算机任何一个位置使用它。</li> <li>--save/-S：通过该种方式安装的包的名称及版本号会出现在 package.json 中的 dependencies 中。dependencies 是需要发布在生成环境的。例如：ElementUI 是部署后还需要的，所以通过 -S 形式来安装。</li> <li>--save-dev/-D：通过该种方式安装的包的名称及版本号会出现在 package.json 中的 devDependencies 中。devDependencies 只在开发环境使用。例如：gulp 只是用来压缩代码、打包的工具，程序运行时并不需要，所以通过 -D 形式来安装。</li></ul> <h3 id="npm-包管理"><a href="#npm-包管理" aria-hidden="true" class="header-anchor">#</a> npm 包管理</h3> <p><code>package.json</code></p> <h4 id="创建package-json"><a href="#创建package-json" aria-hidden="true" class="header-anchor">#</a> 创建<code>package.json</code></h4> <ul><li>npm init：按步骤创建 package.json。</li> <li>npm init --yes：快速创建 package.json</li></ul> <p>因为国内网络环境的原因，有些时候通过 npm 下载包，可能会很慢或者直接卡断，这时候就要安装淘宝的 npm 镜像：cnpm
<code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p> <h2 id="fs-文件管理"><a href="#fs-文件管理" aria-hidden="true" class="header-anchor">#</a> fs 文件管理</h2> <ol><li>fs.stat 检测是文件还是目录</li> <li>fs.mkdir 创建目录</li> <li>fs.writeFile 创建写入文件</li> <li>fs.appendFile 追加文件</li> <li>fs.readFile 读取文件</li> <li>fs.readdir 读取目录</li> <li>fs.rename 重命名</li> <li>fs.rmdir 删除目录</li> <li>fs.unlink 删除文件</li></ol> <p>通过 <code>fs.stat</code> 检查一个读取的是文件还是目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//  1. fs.stat
let fs = require('fs');
fs.stat('index.js', (error, stats) =&gt; {
  if(error) {
    console.log(error);
    return false;
  } else {
    console.log(stats);
    /**
     * Console：
     * Stats {
     *  dev: 886875,
     *  mode: 33206,
     *  nlink: 1,
     *  uid: 0,
     *  gid: 0,
     *  rdev: 0,
     *  blksize: undefined,
     *  ino: 844424931461390,
     *  size: 284,
     *  blocks: undefined,
     *  atimeMs: 1542847157494,
     *  mtimeMs: 1543887546361.2158,
     *  ctimeMs: 1543887546361.2158,
     *  birthtimeMs: 1542847157493.663,
     *  atime: 2018-11-22T00:39:17.494Z,
     *  mtime: 2018-12-04T01:39:06.361Z,
     *  ctime: 2018-12-04T01:39:06.361Z,
     *  birthtime: 2018-11-22T00:39:17.494Z }
     */

    console.log(`文件：${stats.isFile()}`); 
    // Console：文件：true

    console.log(`目录：${stats.isDirectory()}`); 
    // Console：目录：false

    return false;
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>通过 <code>fs.mkdir</code> 创建目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//  2. fs.mkdir
let fs = require('fs');

/**
 * 接收参数
 * path - 将创建的目录路径
 * mode - 目录权限（读写权限），默认 0777
 * callback - 回调，传递异常参数 err
 */
fs.mkdir('css', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;创建目录成功！&quot;);
    // Console：创建目录成功！
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>通过 <code>fs.rmdir</code> 删除目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//  8. fs.rmdir
let fs = require('fs');

/**
 * 接收参数
 * path - 将创建的目录路径
 * mode - 目录权限（读写权限），默认 0777
 * callback - 回调，传递异常参数 err
 */
fs.rmdir('css', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;删除目录成功！&quot;);
    // Console：删除目录成功！
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>通过 <code>fs.writeFile</code> 来创建写入文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//  3. fs.writeFile
let fs = require('fs');

/**
 * filename (String) 文件名称
 * data (String | Buffer) 将要写入的内容，可以是字符串或者 buffer 数据。
 * · encoding (String) 可选。默认 'utf-8'，当 data 是 buffer 时，该值应该为 ignored。
 * · mode (Number) 文件读写权限，默认 438。
 * · flag (String) 默认值 'w'。
 * callback { Function } 回调，传递一个异常参数 err。
 */
fs.writeFile('index.js', 'Hello cyz', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log('写入成功！');
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>这样的写入，是清空原文件中的所有数据，然后添加 Hello cyz 这句话。即：存在即覆盖，不存在即创建。</p></blockquote> <p>使用 <code>fs.unlink</code> 进行文件的删除</p> <p>使用 <code>fs.appendFile</code> 追加文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//  4. fs.appendFile
let fs = require('fs');

fs.appendFile('index.js', '这段文本是要追加的内容', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;追加成功&quot;);
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>使用 <code>fs.readFile</code> 读取文件、<code>fs.readdir</code> 读取目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let fs = require('fs');

// 5. fs.readFile
fs.readFile('index.js', (err, data) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;读取文件成功！&quot;);
    console.log(data);
    // Console：
    // 读取文件成功！
    // &lt;Buffer 48 65 6c 6c 6f 20 6a 73 6c 69 61 6e 67 e8 bf 99 e6 ae b5 e6 96 87 e6 9c ac e6 98 af e8 a6 81 e8 bf bd e5 8a a0 e7 9a 84 e5 86 85 e5 ae b9&gt;
  }
})

// 6. fs.readdir 读取目录
fs.readdir('node_modules', (err, data) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;读取目录成功！&quot;);
    console.log(data);
    // Console：
    // 读取目录成功！
    // [ '03_tool-multiply.js', 'cyz-module' ]
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>使用 <code>fs.rename</code></p> <ol><li>重命名</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>let fs = require('fs');

// 7. fs.rename 重命名
fs.rename('index.js', 'cyz.js', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;重命名成功！&quot;);
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>2.剪切</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>let fs = require('fs');

// 7. fs.rename 重命名
fs.rename('cyz.js', 'node_modules/cyz.js', (err) =&gt; {
  if(err) {
    console.log(err);
    return false;
  } else {
    console.log(&quot;剪切成功！&quot;);
  }
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/cyz.github.io/assets/js/app.1e76dcae.js" defer></script><script src="/cyz.github.io/assets/js/16.4ffc2e3e.js" defer></script>
  </body>
</html>
