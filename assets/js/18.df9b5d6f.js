(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{177:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"content"},[s._m(0),s._v(" "),a("p",[s._v("将一些可以控制的变量直接写在参数中，这样在后面就可以直接获取参数就可以直接使用。")]),s._v(" "),s._m(1),s._m(2),s._v(" "),a("p",[s._v("既然轨迹是由很多圆构成那么我们就应该使用数组储存圆的信息（坐标，半径），然后在鼠标移动的时候将鼠标的位置信息储存在数组中。")]),s._v(" "),a("p",[s._v("所以在鼠标移动的过程我们首先要获得鼠标的坐标，然后将鼠标的坐标以及其他信息 push 到数组中去：")]),s._v(" "),s._m(3),s._m(4),s._v(" "),a("p",[s._v("在我们的 para 参数中，我们可以看出，其中有设置 color 值，如果 color 值不为 false 那么设置的圆的颜色就是设置的 color 值。如果设置的 color 值为 false，那么我们的圆的颜色就是随机的。")]),s._v(" "),s._m(5),a("p",[s._v("怎么设置颜色的渐变呢，我们将 color 的颜色值依次增加一个增量。")]),s._v(" "),s._m(6),a("p",[s._v("既然颜色是要一直改变，那么我们要将上面颜色改变的代码放在一个一直执行的函数，这样颜色才能一直在变化，所以我们需要将上面改变颜色的代码放在下面我们要介绍的 animate() 函数中。")]),s._v(" "),s._m(7),s._v(" "),a("p",[s._v("主要负责动画的 animate() 函数")]),s._v(" "),s._m(8),s._v(" "),a("p",[s._v("然后在使用 round_arr 数组中的数据将一个一个的圆绘制出来。")]),s._v(" "),s._m(9),s._m(10),s._v(" "),s._m(11),s._v(" "),s._m(12),s._m(13),s._v(" "),a("p",[s._v("主要的有哪些步骤")]),s._v(" "),s._m(14),s._v(" "),s._m(15),s._v(" "),a("p",[a("a",{attrs:{href:"https://codepen.io/fishcyz/full/PVdjMd",target:"_blank",rel:"noopener noreferrer"}},[s._v("互动效果"),a("OutboundLink")],1)])])},[function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"创建-canvas-元素"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建-canvas-元素","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建 Canvas 元素")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var canvas = document.getElementById('canvas'),\n    ctx = canvas.getContext('2d'),\n    WIDTH = canvas.width = document.documentElement.clientWidth,\n    HEIGHT = canvas.height = document.documentElement.clientHeight,\n    para = {\n        num: 100,\n        color: false,    //  颜色  如果是false 则是随机渐变颜色\n        r: 0.9,          //   圆每次增加的半径 \n        o: 0.09,         //      判断圆消失的条件，数值越大，消失的越快\n        a: 1\n    },\n    color,\n    color2,\n    round_arr = [];     // 存放圆的数组 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"onmousemove-事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#onmousemove-事件","aria-hidden":"true"}},[this._v("#")]),this._v(" onmousemove 事件")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("window.onmousemove = function (event) { \n    mouseX = event.clientX; \n    mouseY = event.clientY; \n    round_arr.push({ \n        mouseX: mouseX, \n        mouseY: mouseY, \n        r: para.r, // 设置半径每次增大的数值 \n        o: 1, // 判断圆消失的条件，数值越大，消失的越快 \n    }) \n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"设置-color"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#设置-color","aria-hidden":"true"}},[this._v("#")]),this._v(" 设置 color")])},function(){var s=this.$createElement,n=this._self._c||s;return n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("if (para.color) {\n    color2 = para.color;\n} else {\n    color = Math.random() * 360;\n}\n")])]),this._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[this._v("1")]),n("br"),n("span",{staticClass:"line-number"},[this._v("2")]),n("br"),n("span",{staticClass:"line-number"},[this._v("3")]),n("br"),n("span",{staticClass:"line-number"},[this._v("4")]),n("br"),n("span",{staticClass:"line-number"},[this._v("5")]),n("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[this._v("if (!para.color) {\n    color += .1;\n    color2 = 'hsl(' + color + ',100%,80%)';\n}\n")])]),this._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[this._v("1")]),n("br"),n("span",{staticClass:"line-number"},[this._v("2")]),n("br"),n("span",{staticClass:"line-number"},[this._v("3")]),n("br"),n("span",{staticClass:"line-number"},[this._v("4")]),n("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"animate-函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#animate-函数","aria-hidden":"true"}},[this._v("#")]),this._v(" animate() 函数")])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("我们先来清除屏幕:"),n("code",[this._v("ctx.clearRect(0, 0, WIDTH, HEIGHT);")])])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("for (var i = 0; i < round_arr.length; i++) { \n    ctx.fillStyle = color2; \n    ctx.beginPath(); \n    ctx.arc( round_arr[i].mouseX ,round_arr[i].mouseY,round_arr[i].r,0, Math.PI * 2); \n    ctx.closePath(); \n    ctx.fill(); \n    round_arr[i].r += para.r; \n    round_arr[i].o -= para.o; \n    if( round_arr[i].o <= 0){ \n        round_arr.splice(i,1); \n        i--; \n    } \n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("p",[this._v("然后我们还需要一直执行这个函数:"),n("code",[this._v("window.requestAnimationFrame(animate);")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h4",{attrs:{id:"完整的-animate-函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#完整的-animate-函数","aria-hidden":"true"}},[this._v("#")]),this._v(" 完整的 animate() 函数")])},function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function animate() { \n    if (!para.color) { \n        color += .1; \n        color2 = 'hsl(' + color + ',100%,80%)'; \n    } \n    ctx.clearRect(0, 0, WIDTH, HEIGHT); \n    for (var i = 0; i < round_arr.length; i++) { \n        ctx.fillStyle = color2; \n        ctx.beginPath(); \n        ctx.arc( round_arr[i].mouseX ,round_arr[i].mouseY,round_arr[i].r,0, Math.PI * 2); \n        ctx.closePath(); \n        ctx.fill(); \n        round_arr[i].r += para.r; \n        round_arr[i].o -= para.o; \n        if( round_arr[i].o <= 0){ \n            round_arr.splice(i,1); \n            i--; \n        } \n    } \n    window.requestAnimationFrame(animate); \n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var s=this.$createElement,n=this._self._c||s;return n("ul",[n("li",[this._v("创建 canvas 元素，设置参数")]),this._v(" "),n("li",[this._v("鼠标移动事件，将坐标信息 push 到数组")]),this._v(" "),n("li",[this._v("设置颜色")]),this._v(" "),n("li",[this._v("设置动画 animate() 函数")])])},function(){var s=this.$createElement,n=this._self._c||s;return n("h2",{attrs:{id:"效果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#效果","aria-hidden":"true"}},[this._v("#")]),this._v(" 效果")])}],!1,null,null,null);e.options.__file="MouseScreen.md";n.default=e.exports}}]);